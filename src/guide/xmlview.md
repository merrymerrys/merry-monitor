---
title: XML配置
icon: file
order: 1
date: 2023-07-09
category:
  - 使用指南
---

::: info 配置可视化
长久以来，测试人员修改XML配置文件只能通过文本编辑器。这种方式不仅效率低，且出错率还高。非常不适合开发人员之外、不熟悉标签定义的其他人员使用。

因此，一个可视化的配置界面，不仅必要也非常重要。

V2.0 版本的XML配置页面，参考了JSON配置页面。（先有的Web版本的JSON配置页面）

相比V1.0 版本，UI操作逻辑与XML的解析转存方式，按照Web版本的 MVVM 模式进行了重写。在保留原有的解析效率、稳定性的同时，通过数据的双向绑定大幅优化了内存消耗。
:::

## 页面标注

配置文件的加载方式，提供了本地文件加载与Http网络加载两种方式。

::: tabs

@tab 通道配置
![](./assets/channel.png)

@tab 其他配置
![](./assets/other.png)

@tab 说明文档
![](./assets/explain.png)

:::

## 通道配置

点击左侧通道按钮，中央区域的配置界面将切换到对应的通道内容。

从说明文档中可以看到，报警类型的开关有七种不同的字段。V2.0版本，将这七种不同的合并为一个报警类型的下拉框。

这意味着七种不同的报警类型中只能选择其中一个。如果需要全部关闭，可选择不报警。

::: warning
下载XML文件前，你必须确保已经加载了一个 `settings.xml` 文件，应用程序需要使用模板文件以确保不会遗漏那些 **你正在使用，但又不需要可视化** 的标签。

例如：`<copyrights></copyrights>`、`<version></version>` 标签等。
:::

## 同步模式

有时候，我们需要对部分配置内容同时更新到多个不同的通道。

例如：当我们有一个需要对通道1-16的灵敏度，修改为同一个值的场景。如果我们在通道配置页下进行修改，则需要打开1-16通道的配置内容，分别进行修改。

这不仅步骤繁琐，且在操作过程中容易遗漏部分通道的修改。

同步模式就是在这种应用场景下推出的解决方案。

![](./assets/sync.png)

继续使用刚才的栗子。在同步模式的情况下，修改灵敏度的步骤如下：

::: tip
1. 打开配置项前的使能开关。(这里打开的是灵敏度的使能开关)
2. 修改灵敏度的值。
3. 点击左侧按钮，选中需要同步的通道。(这里提供了一组快速选中的按钮组)
4. 点击同步修改，将勾选的配置内容同步至所有选中的通道。
5. 回到通道配置页，查看修改情况。
:::

## 注意事项

::: warning
由于XML标签包裹下的数据，最终都会转换为字符串，而项目配置的情况又让人出乎意料。
因此，早期为配置项提供的表单校验，目前已全部取消。

你需要为你自己填写的配置项，**考虑其数据合法性**。应用程序不再提供表单检验服务。
:::
